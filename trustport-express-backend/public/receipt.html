<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shipment Receipt - TrustPort Express</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      padding: 20px;
      background: #f4f4f4;
    }

   </style>
   </head>
   <body>
    <input type="text" id="pdfTrackingCode" placeholder="Enter Tracking Code">
<button onclick="downloadPDF()">Download PDF Receipt</button>

<script>
  function downloadPDF() {
    const trackingCode = document.getElementById('pdfTrackingCode').value.trim();
    if (!trackingCode) {
      alert("Please enter a tracking code");
      return;
    }

    const token = localStorage.getItem('adminToken');
    const url = `/api/shipments/receipt/pdf/${trackingCode}`;

    fetch(url, {
      headers: { Authorization: `Bearer ${token}` }
    }).then(response => {
      if (!response.ok) {
        throw new Error('Failed to download PDF');
      }
      return response.blob();
    }).then(blob => {
      const url = window.URL.createObjectURL(blob);
      const a = document.createElement('a');
      a.href = url;
      a.download = `receipt-${trackingCode}.pdf`;
      a.click();
    }).catch(err => {
      alert(err.message);
    });
  }
</script>

   </body>
   </html>